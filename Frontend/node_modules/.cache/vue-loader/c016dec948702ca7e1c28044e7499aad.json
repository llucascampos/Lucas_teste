{"remainingRequest":"C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\src\\components\\CadastrarViagem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\src\\components\\CadastrarViagem.vue","mtime":1555932910650},{"path":"C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555932458939},{"path":"C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1555932457947},{"path":"C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1555932540583},{"path":"C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555932458939},{"path":"C:\\Users\\Lucas\\Desktop\\Lucas_teste\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1555932537837}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from 'axios'\r\nvar urlPadrao = 'http://localhost:8081'\r\nimport VueTour from '../mixins/VueTour.js'\r\nexport default {\r\n   mixins: [VueTour],\r\n    data () {\r\n      return {\r\n        dialog: false,\r\n        e1: 0,\r\n        listaPassageiros :[],\r\n        listaMotoristas :[],\r\n        viagem: {\r\n            motorista: null,\r\n            passageiro: null,\r\n            valor: null\r\n        },\r\n        defaultItem: {\r\n            motorista: null,\r\n            passageiro: null,\r\n            valor: null\r\n        },\r\n      \r\n        //validação\r\n        obrigatorio: [\r\n            v => !!v || 'Esse campos é necessário'\r\n        ],\r\n        \r\n        //snakebar\r\n        snackbar: false,\r\n        color: '',\r\n        mode: '',\r\n        timeout: 3000,\r\n        text: 'Salvo com Sucesso',\r\n        y: 'top',\r\n        }\r\n    },\r\n\r\n    created () {\r\n      this.inicializando()\r\n    },\r\n    \r\n    methods:{\r\n        inicializando(){\r\n            axios.all([\r\n                axios.get(`${urlPadrao}/Passageiros`),\r\n                axios.get(`${urlPadrao}/Motoristas/viagem`),\r\n                ]).then(axios.spread((responsePassageiros, responseMotoristas) => {\r\n                    this.listaPassageiros = responsePassageiros.data.response;\r\n                    this.listaMotoristas = responseMotoristas.data.response; \r\n                })).catch(function (error) {\r\n                console.log(error.response.status);\r\n                console.log(error);\r\n                })\r\n        },\r\n        cancelar(){\r\n            this.e1 = 1\r\n            this.dialog = false\r\n            this.$refs.form.resetValidation()\r\n            this.viagem = Object.assign({}, this.defaultItem)\r\n        },\r\n        salvar(){\r\n            if(this.$refs.form.validate()){\r\n                axios.post(`${urlPadrao}/corridas`, this.viagem)\r\n                .then(response =>{ \r\n                    this.snackbar = true\r\n                    this.inicializando()\r\n                    this.cancelar()                           \r\n            });        \r\n          }        \r\n        }      \r\n    }\r\n  }\r\n",{"version":3,"sources":["CadastrarViagem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CadastrarViagem.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <v-layout>\r\n          <v-snackbar\r\n            v-model=\"snackbar\"\r\n            :color=\"color\"\r\n            :multi-line=\"mode === 'multi-line'\"\r\n            :timeout=\"timeout\"\r\n            :vertical=\"mode === 'vertical'\"\r\n            :top=\"y === 'top'\">\r\n            {{ text }}\r\n            <v-btn dark flat @click=\"snackbar = false\">Fechar</v-btn>\r\n          </v-snackbar>\r\n        </v-layout>\r\n\r\n        <v-layout align-center justify-center>\r\n            <v-btn color=\"primary\" dark @click.stop=\"dialog = true \" data-v-step=\"2\" >\r\n                Cadastrar Nova Corrida\r\n            </v-btn>\r\n        </v-layout>\r\n\r\n        <v-dialog v-model=\"dialog\"  persistent> \r\n            <v-stepper v-model=\"e1\"  vertical>\r\n                <v-form ref=\"form\">\r\n                    <v-stepper-step :complete=\"e1 > 1\" step=\"1\">Selecione o Motorista</v-stepper-step>\r\n                    <v-stepper-items>\r\n                        <v-stepper-content step=\"1\">\r\n                            <v-card  class=\"mb-2 px-5\" color=\"green lighten-5\"  height=\"150px\">\r\n                                <v-layout align-center justify-center row fill-height>\r\n                                    <v-flex md7 sm10>\r\n                                        <v-autocomplete\r\n                                            v-model=\"viagem.motorista\"\r\n                                            :items=\"listaMotoristas\"\r\n                                            item-text=\"nome\"\r\n                                            label=\"Motorista\"\r\n                                            :rules=\"obrigatorio\"\r\n                                            no-data-text=\"Não há motoristas cadastrados\"\r\n                                            append-icon=\"airline_seat_recline_extra\"\r\n                                            return-object\r\n                                        ></v-autocomplete>\r\n                                    </v-flex>\r\n                                </v-layout>\r\n                            </v-card>\r\n                            <v-btn color=\"primary\" @click=\"e1 = 2\">Continue</v-btn>\r\n                            <v-btn flat @click=\"cancelar()\">Cancelar</v-btn>\r\n                        </v-stepper-content>\r\n\r\n                        <v-stepper-step :complete=\"e1 > 2\" step=\"2\">Escolha o Passageiro</v-stepper-step>\r\n                        <v-stepper-content step=\"2\">\r\n                            <v-card  class=\"mb-2 px-5\" color=\"green lighten-5\"  height=\"150px\">\r\n                                <v-layout align-center justify-center row fill-height>\r\n                                    <v-flex md6>\r\n                                        <v-autocomplete\r\n                                            v-model=\"viagem.passageiro\"\r\n                                            :items=\"listaPassageiros\"\r\n                                            item-text=\"nome\"\r\n                                            label=\"Passageiro\"\r\n                                            :rules=\"obrigatorio\"\r\n                                            no-data-text=\"Não há passageiros cadastrados\"\r\n                                            append-icon=\"perm_identity\"\r\n                                            return-object\r\n                                        ></v-autocomplete>\r\n                                    </v-flex>\r\n                                </v-layout>\r\n                            </v-card>\r\n                            <v-btn icon @click=\"e1 = 1\" class=\"hidden-xs-only\">\r\n                                <v-icon>reply</v-icon>\r\n                            </v-btn>\r\n                            <v-btn color=\"primary\" @click=\"e1 = 3\">Continue</v-btn>\r\n                            <v-btn flat @click=\"cancelar()\">Cancelar</v-btn>\r\n                        </v-stepper-content>\r\n\r\n                        <v-stepper-step step=\"3\">Informe o Valor</v-stepper-step>\r\n                        <v-stepper-content step=\"3\">\r\n                            <v-card  class=\"mb-2 px-5\" color=\"green lighten-5\"  height=\"150px\">\r\n                                <v-layout align-center justify-center row fill-height>\r\n                                    <v-flex md6>\r\n                                        <v-text-field\r\n                                            v-model=\"viagem.valor\"\r\n                                            label=\"Valor\"\r\n                                            :rules=\"obrigatorio\"\r\n                                            prefix=\"R$\"\r\n                                            type=\"number\"\r\n                                            append-icon=\"attach_money\"\r\n                                        ></v-text-field>\r\n                                    </v-flex>\r\n                                </v-layout>\r\n                            </v-card>\r\n                            <v-btn icon @click=\"e1 = 2\" class=\"hidden-xs-only\">\r\n                                <v-icon>reply</v-icon>\r\n                            </v-btn>\r\n                            <v-btn color=\"primary\" @click=\"salvar()\">Salvar</v-btn>\r\n                            <v-btn flat @click=\"cancelar()\">Cancelar</v-btn>\r\n                        </v-stepper-content>\r\n                    </v-stepper-items>\r\n                </v-form>\r\n            </v-stepper>\r\n        </v-dialog>\r\n      <v-tour name=\"myTour\" :steps=\"steps\" :options=\"myOption\" ></v-tour>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nvar urlPadrao = 'http://localhost:8081'\r\nimport VueTour from '../mixins/VueTour.js'\r\nexport default {\r\n   mixins: [VueTour],\r\n    data () {\r\n      return {\r\n        dialog: false,\r\n        e1: 0,\r\n        listaPassageiros :[],\r\n        listaMotoristas :[],\r\n        viagem: {\r\n            motorista: null,\r\n            passageiro: null,\r\n            valor: null\r\n        },\r\n        defaultItem: {\r\n            motorista: null,\r\n            passageiro: null,\r\n            valor: null\r\n        },\r\n      \r\n        //validação\r\n        obrigatorio: [\r\n            v => !!v || 'Esse campos é necessário'\r\n        ],\r\n        \r\n        //snakebar\r\n        snackbar: false,\r\n        color: '',\r\n        mode: '',\r\n        timeout: 3000,\r\n        text: 'Salvo com Sucesso',\r\n        y: 'top',\r\n        }\r\n    },\r\n\r\n    created () {\r\n      this.inicializando()\r\n    },\r\n    \r\n    methods:{\r\n        inicializando(){\r\n            axios.all([\r\n                axios.get(`${urlPadrao}/Passageiros`),\r\n                axios.get(`${urlPadrao}/Motoristas/viagem`),\r\n                ]).then(axios.spread((responsePassageiros, responseMotoristas) => {\r\n                    this.listaPassageiros = responsePassageiros.data.response;\r\n                    this.listaMotoristas = responseMotoristas.data.response; \r\n                })).catch(function (error) {\r\n                console.log(error.response.status);\r\n                console.log(error);\r\n                })\r\n        },\r\n        cancelar(){\r\n            this.e1 = 1\r\n            this.dialog = false\r\n            this.$refs.form.resetValidation()\r\n            this.viagem = Object.assign({}, this.defaultItem)\r\n        },\r\n        salvar(){\r\n            if(this.$refs.form.validate()){\r\n                axios.post(`${urlPadrao}/corridas`, this.viagem)\r\n                .then(response =>{ \r\n                    this.snackbar = true\r\n                    this.inicializando()\r\n                    this.cancelar()                           \r\n            });        \r\n          }        \r\n        }      \r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n.v-dialog:not(.v-dialog--fullscreen) {\r\n    max-width: 70%;\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n    .v-dialog:not(.v-dialog--fullscreen) {\r\n    max-width: 100%;\r\n}\r\n}\r\n\r\n</style>\r\n"]}]}